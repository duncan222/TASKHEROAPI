<div class="social-container">
  <div class="buttons-container" [class.active]="isFriendsActive">
    <button class="social-button" (click)="showFriends()">Friends</button>
    <button class="social-button" (click)="showAllUsers()">All Users</button>
    <div class="active-bar" [style.left]="activeBarLeft"></div>
  </div>

  <div class="user-list">
    <div *ngIf="isFriendsActive">
      <div *ngFor="let user of friendsList" class="user-block">
        <div class="user-info">
          <div class="username">{{ user.username }}</div>
          <div class="points">{{ user.points }} points</div>
        </div>
      </div>
    </div>
    <div *ngIf="!isFriendsActive">
      <div *ngFor="let user of allUsersList" class="user-block">
        <div class="user-info">
          <div class="username">{{ user.username }}</div>
          <div class="points">{{ user.points }} points</div>
        </div>
      </div>
    </div>
  </div>

  <div class="search-popup" [class.show]="isSearchPopupOpen" *ngIf="isSearchPopupOpen">
    <button class="close-button" (click)="toggleSearchPopup()">X</button>
    <h3>User Search</h3>
    <input type="text" id="searchInput" placeholder="Username" [(ngModel)]="searchQuery" (input)="onSearchInputChange()" />
    <button class="search-button" (click)="searchUsers()">Search</button>

    <div class="search-results">
      <!-- Test Data -->
      <div *ngFor="let user of searchTestData" class="user-block">
        <div class="user-info">
          <div class="search-username">{{ user.username }}</div>
          <div class="search-points">{{ user.points }} points</div>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" width="25px" height="25px" (click)="toggleFriendAdded()"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z" /></svg>
        </div>
      </div>
    </div>
  </div>

  <div class="friend-popup" [class.show]="isFriendAddedOpen" *ngIf="isFriendAddedOpen">
    <div class="friend-added">
      <h2>Friend Added!</h2>
    </div>
  </div>

  <div class="search-box" (click)="toggleSearchPopup()">
    <div class="search-content">
      <span>Search for Users</span>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z" /></svg>
    </div>
  </div>
</div>

